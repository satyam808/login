<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Complex SVG Login Animation</title>
<script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
<style>
html, body {
    padding: 0;
    margin: 0;
    font-family: sans-serif;
    background-color: #FAF9F6;
    overflow: hidden;
}

.container {
    position: fixed;
    top: 38%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 300px;
    height: 400px;
}

svg, .form-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.form-container {
    width: 270px;
    display: flex;
    flex-direction: column;
    gap: 15px;
    z-index: 10;
}

.form-container .form-row {
    display: flex;
    align-items: center;
    justify-content: flex-start;
}

.form-container input[type="text"],
.form-container input[type="email"] {
    flex: 1;
    height: 30px;
    padding: 5px;
    border: 2px solid #dddddd;
    outline: none;
}

.form-container input.valid {
    border-color: #000000;
}

.form-container input[type="checkbox"] {
    width: 20px;
    height: 20px;
    margin-right: 10px;
}

.form-container input[type="submit"] {
    height: 40px;
    cursor: pointer;
    border: none;
    background-color: #eeeeee;
    transition: 0.3s;
}

.form-container input[type="submit"]:hover {
    background-color: #dddddd;
}

svg {
    width: 1000px;
    height: 600px;
    stroke-width: 1.2px;
    stroke: #000000;
    fill: none;
    pointer-events: none;
}
</style>
</head>
<body>

<div class="container">
    <form class="form-container" id="loginForm">
        <label class="form-row">
            <input type="text" id="name" name="name" placeholder="Name" required>
        </label>
        <label class="form-row">
            <input type="email" id="email" name="email" placeholder="E-mail" required>
        </label>
        <label class="form-row">
            <input type="checkbox" id="subscribe" name="subscribe" required> I agree
        </label>
        <div class="form-row">
            <input type="submit" value="Submit">
        </div>
    </form>

    <!-- Complex SVG elements -->
    <svg viewBox="0 0 1000 1000">
        <!-- Grabbing hand -->
        <g class="grabbing-hand">
            <path class="grabbing-hand-finger-open" d="M48.89,54.39c-3.51.76-15.72,3-22.83-.68"/>
            <path class="grabbing-hand-finger-closed" d="M57.05,29.76l24.82,0"/>
        </g>

        <!-- Submit button circle -->
        <circle class="submit-btn-circle" cx="500" cy="700" r="20" fill="#fff"/>

        <!-- Sprayer -->
        <g class="sprayer">
            <circle class="spray-line" cx="400" cy="400" r="5" fill="#000"/>
            <circle class="spray-bubble" cx="400" cy="400" r="3" fill="#000"/>
        </g>

        <!-- Gear -->
        <g class="gear">
            <circle cx="200" cy="200" r="20" fill="#fff"/>
        </g>
    </svg>
</div>

<script>
// ====== Variables ======
const form = document.getElementById('loginForm');
const nameEl = document.getElementById('name');
const emailEl = document.getElementById('email');
const checkboxEl = document.getElementById('subscribe');
const submitBtn = form.querySelector('input[type="submit"]');

const grabbingHand = document.querySelector('.grabbing-hand');
const grabbingHandOpenFingers = document.querySelector('.grabbing-hand-finger-open');
const grabbingHandClosedFingers = document.querySelector('.grabbing-hand-finger-closed');
const submitCircle = document.querySelector('.submit-btn-circle');
const sprayerLine = document.querySelector('.spray-line');
const sprayBubble = document.querySelector('.spray-bubble');
const gear = document.querySelector('.gear');

// ====== Form Validation ======
let nameValid = false;
let emailValid = false;

nameEl.addEventListener('input', () => {
    nameValid = nameEl.value.length > 3;
    if(nameValid) nameEl.classList.add("valid");
    else nameEl.classList.remove("valid");
});

emailEl.addEventListener('input', () => {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    emailValid = emailRegex.test(emailEl.value);
    if(emailValid) emailEl.classList.add("valid");
    else emailEl.classList.remove("valid");
});

// ====== Form Submit Animation ======
form.addEventListener('submit', e => {
    e.preventDefault();
    if(nameValid && emailValid && checkboxEl.checked){
        form.reset();

        const tl = gsap.timeline();

        // Hand grab animation
        tl.to(grabbingHand, {y:-30, duration:0.5, yoyo:true, repeat:1, ease:"power1.inOut"});
        // Submit button pop
        tl.to(submitCircle, {scale:1.5, duration:0.3, yoyo:true, repeat:1, ease:"power1.inOut"}, "-=0.5");
        // Sprayer animation
        tl.to(sprayerLine, {scale:2, opacity:0, duration:0.5, yoyo:true, repeat:1, ease:"power2.out"}, "-=0.4");
        tl.to(sprayBubble, {scale:2, opacity:0, duration:0.5, yoyo:true, repeat:1, ease:"power2.out"}, "-=0.5");
        // Gear rotate
        tl.to(gear, {rotation:360, transformOrigin:"50% 50%", duration:1, ease:"power2.inOut"}, "-=0.5");

    } else {
        alert("Please fill all fields and agree.");
    }
});
</script>
</body>
</html>
